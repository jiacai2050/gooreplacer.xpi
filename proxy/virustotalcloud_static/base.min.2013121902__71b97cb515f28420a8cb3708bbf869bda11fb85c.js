if(typeof(String.prototype.trim)==="undefined"){String.prototype.trim=function(){return String(this).replace(/^\s+|\s+$/g,"")}}jQuery.fn.localGoto=function(){return this.each(function(){var a=$(this);var c=a.offset();var b=c.top;$("html, body").animate({scrollTop:b},500)})};$.fn.getData=function(){var e={};form=$(this).serializeArray();for(var c=form.length;c--;){var b=form[c].name;var d=form[c].value;var a=b.indexOf("[]");if(a>-1){b=b.substring(0,a);if(!(b in e)){e[b]=[]}e[b].push(d)}else{e[b]=d}}return e};$.ajaxSetup({beforeSend:function(c,b){function a(d){var h=null;if(document.cookie&&document.cookie!==""){var g=document.cookie.split(";");for(var f=0;f<g.length;f++){var e=jQuery.trim(g[f]);if(e.substring(0,d.length+1)==(d+"=")){h=decodeURIComponent(e.substring(d.length+1));break}}}return h}if(!(/^http:.*/.test(b.url)||/^https:.*/.test(b.url))){c.setRequestHeader("X-CSRFToken",a("VT_CSRF"))}}});$(document).ajaxSend(function(c,f,b){function a(g){var l=null;if(document.cookie&&document.cookie!==""){var k=document.cookie.split(";");for(var j=0;j<k.length;j++){var h=jQuery.trim(k[j]);if(h.substring(0,g.length+1)==(g+"=")){l=decodeURIComponent(h.substring(g.length+1));break}}}return l}function e(h){var j=document.location.host;var k=document.location.protocol;var i="//"+j;var g=k+i;return(h==g||h.slice(0,g.length+1)==g+"/")||(h==i||h.slice(0,i.length+1)==i+"/")||!(/^(\/\/|http:|https:).*/.test(h))}function d(g){return(/^(GET|HEAD|OPTIONS|TRACE)$/.test(g))}if(!d(b.type)&&e(b.url)){f.setRequestHeader("X-CSRFToken",a("VT_CSRF"))}});function signup(){if(!$("#btn-join").hasClass("disabled")){$("#btn-join").addClass("disabled");$("#btn-join").siblings(".loading").show();$.ajax({type:"POST",async:true,url:$("#frm-join").attr("action"),data:$("#frm-join").getData(),dataType:"html",cache:false,success:function(a){$("#dlg-join").html(a)}})}}function signin(a){if(!$("#btn-sign-in").hasClass("disabled")){$("#btn-sign-in").addClass("disabled");$("#btn-sign-in").siblings(".loading").show();var b=$("#frm-signin");var c=b.getData();if(a){c.next=a}c.response_format="json";$.ajax({type:"POST",async:true,url:$("#frm-signin").attr("action"),data:c,dataType:"json",cache:false,success:function(d){if(d.signed_in){if(d.next){window.location=d.next}else{location.reload()}}else{$("#dlg-signin").html(d.html)}}})}}function resetPassword(){if(!$("#btn-recover").hasClass("disabled")){$("#dlg-password-reset").data("backup",$("#dlg-password-reset").html());$("#btn-recover").addClass("disabled");$("#btn-recover").siblings(".loading").show();$.ajax({type:"POST",async:true,url:$("#frm-password-reset").attr("action"),data:$("#frm-password-reset").getData(),dataType:"html",cache:false,success:function(a){$("#dlg-password-reset").html(a)}})}}function cookiesEnabled(){var a=(navigator.cookieEnabled)?true:false;if(typeof navigator.cookieEnabled=="undefined"&&!a){document.cookie="testcookie";a=(document.cookie.indexOf("testcookie")!=-1)?true:false}return(a)}$(document).ready(function(){if(!cookiesEnabled()){$("#cookies-disabled-alert").show()}$(".contact").text("contact@virustotal.com");$("#mnu-user-name").click(function(a){var b=$(this).parent("li").toggleClass("open");return false});$(document).delegate("a.cancel","click",function(a){$(this).closest(".modal").modal("hide");a.preventDefault()});$(document).delegate("#lnk-password-reset","click",function(b){$("#dlg-signin").modal("hide");var a=$("#dlg-password-reset").data("backup");if(a){$("#dlg-password-reset").html(a)}else{$("#dlg-password-reset").data("backup",$("#dlg-password-reset").html())}$("#dlg-password-reset").modal("show");b.preventDefault()});$("(span|a)[rel=popover]").popover({offset:10,html:true}).click(function(a){a.preventDefault()})});$(".comment-avatar").live("click",function(){var a=$(this);a.popover("toggle");var c=a.attr("user");var b=a.attr("data-load");if(b=="yes"){$.getJSON("/user/"+c+"/badge/",function(e){$('.comment-avatar[user="'+c+'"]').attr({"data-content":e.html,"data-load":"no"});var d=a.data("popover");if(d&&d.tip().is(":visible")){a.popover("show")}})}});function setCookie(d,b,c){var a=new Date();a.setDate(a.getDate()+c);var e=escape(b)+((c===null)?"":";expires="+a.toUTCString())+";path=/";document.cookie=d+"="+e}$(".set-language").live("click",function(c){c.preventDefault();var a=$(this);var b=a.attr("href");var d=b.split("/")[1];setCookie("VT_PREFERRED_LANGUAGE",d);document.location.href=b});$("#frm-signin #password").live("keyup",function(event){if(event.keyCode==13){eval($("#btn-sign-in").attr("href"))}});$(window).unload(function(){});